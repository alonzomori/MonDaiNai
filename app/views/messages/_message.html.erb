<div data-controller="set-sender" id="<%= message.id %>" data-set-sender-user-id-value="<%= message.user.id %>" data-sender-id="<%= message.user.id %>">
  <div class="d-flex gap-2 align-items-end" data-set-sender-target="container">
    <div class="col-2 overflow-hidden d-none" data-set-sender-target="otherPerson">
      <% if message.user.profile_picture.attached? %>
        <%= cl_image_tag message.user.profile_picture.key,  class:"col-12 img-thumbnail rounded-circle" %>
      <% else %>
        <%= image_tag 'default-box.svg', class:"col-12" %>
      <% end %>
    </div>
    <div class="p-2" data-set-sender-target="bubble">
      <%# info: current_user is being passed in controller because websockets are missing Warden from devise %>
      <% if message.translated_content %>
        <p><i><%= message.content %></i></p>
        <p> <%= message.translated_content %></p>
      <% else  %>
        <span> <%= message.content %></span>
      <% end %>
    </div>
    <div class="col-2 overflow-hidden d-none" data-set-sender-target="me">
      <% if message.user.profile_picture.attached? %>
        <%= cl_image_tag message.user.profile_picture.key,  class:"col-12 img-thumbnail rounded-circle" %>
      <% else %>
        <%= image_tag 'default-box.svg', class:"col-12" %>
      <% end %>
    </div>
  </div>
  <div class="d-flex mb-2" data-set-sender-target="container" >
    <small class="text-secondary fw-light" > <%= message.created_at.strftime("%b %e, %l:%M %p") %> </small>
  </div>
</div>
